{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/providers/stores/stores.ts","../../src/models/beaconModel.ts","../../src/pages/home/home.ts"],"names":[],"mappings":"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","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { HomePage } from './home';\nimport { SharedModule } from '../../app/shared.module';\nimport { IBeaconModule } from '../../app/ibeacon.module';\nimport { StoresProvider } from '../../providers/stores/stores';\n\n\n\n@NgModule({\n  declarations: [\n    HomePage,\n    \n  ],\n  imports: [\n    IonicPageModule.forChild(HomePage),\n    SharedModule,\n    IBeaconModule\n  ],\n  exports:[IBeaconModule],\n  providers:[StoresProvider]\n})\nexport class HomePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import { Injectable } from '@angular/core';\nimport { Http, Response } from '@angular/http';\nimport { Events,Platform } from 'ionic-angular';\nimport { STTARTER_BASE_URL, EN, BEACON_UUID } from '../../config';\nimport {\n       STORES, PROMOTIONS, STORECATAGORIES, STORENEWS, EVENTS, STORE_PROMOTIONS,\n\n       ABOUTOUTLET, BEACON_CONFIG,AMENITES,BRANDS,HOME_BANNERS,SPECIAL_PROMOTIONS,ALL_SPECIAL_PROMOTIONS\n} from '../../url';\nimport { UserdataProvider } from '../userdata/userdata';\nimport { StoresModel, StoresCategoryModel, Amenities, Brands, Promotions } from '../../models/storesModel';\nimport { LoaderProvider } from '../../providers/loader/loader';\n\nimport 'rxjs/add/operator/do';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/observable/of';\nimport 'rxjs/add/operator/catch';\nimport 'rxjs/add/operator/finally';\n\nimport { Observable } from 'rxjs/Observable';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\n\n\n@Injectable()\nexport class StoresProvider {\n\n\n  storeList: Array<StoresModel> = null;\n\n  beaconStoreList:any = [];\n  storeCategoryList: Array<StoresCategoryModel> = null;\n  aminitiesList: Array<Amenities> = null;\n\n  brandsList:Array<Brands> = null;\n\n  constructor(private http: Http, public userdataProvider: UserdataProvider, \n              private events:Events, private platform:Platform,private loaderProvider:LoaderProvider,private httpClient:HttpClient) {\n\n    this.events.subscribe('changedOutlet', isOutLetChanged => {\n\n              if (isOutLetChanged) {\n                this.storeList = null;\n                this.storeCategoryList = null;\n                this.aminitiesList = null;\n                this.beaconStoreList = [];\n              }\n      \n          })\n\n    this.platform.pause.subscribe(()=>{\n      this.beaconStoreList = [];\n    })\n\n  }\n\n\n  //return home banners\n\n  public getHomeBanners() {\n    let loader = this.loaderProvider.presentLoadingCustom();\n    loader.present();\n    console.log(this.userdataProvider.selectedMall);\n    return this.httpClient.get(STTARTER_BASE_URL + HOME_BANNERS + this.userdataProvider.selectedMall)\n      // .map((res: Response) => res.json())\n      // .do((res: Response) => res)\n      // .map((res: Response) => res)\n      .catch((err: Error) => Observable.throw(err))\n      .finally(()=> this.loaderProvider.dismissLoader(loader))\n  }\n\n\n//return All stores  \n  public getAllStores():Observable<Array<StoresModel>> {\n    if (this.storeList != null) {\n      return Observable.of(this.storeList)\n    }\n    else {\n      let loader = this.loaderProvider.presentLoadingCustom();\n      loader.present();\n      return this.httpClient.get(STTARTER_BASE_URL + STORES + EN + '&associatedmall.mallname=$eq:' + this.userdataProvider.selectedMall)\n        // .map((res: Response) => <Array<StoresModel>> res)\n        .do((res) => {this.storeList = res['data'] })\n        .map((storeList) => { return storeList['data'] })\n        .catch((err: Error) => Observable.throw(err))\n        .finally(()=>this.loaderProvider.dismissLoader(loader))\n        \n    }\n   \n  }\n\n//returns generic Promotions  \n  public getGenericPromotions():Observable<Array<Promotions>> {\n\n    let loader = this.loaderProvider.presentLoadingCustom();\n    loader.present();\n    return this.httpClient.get(STTARTER_BASE_URL + PROMOTIONS + EN + '&associatedmall.mallname=$eq:' + this.userdataProvider.selectedMall)\n      // .map((res: Response) => res)\n      // .do((res: Response) => <Array<Promotions>>res.json())\n      // .map((res: Response) => res.json())\n      .catch((err: Error) => Observable.throw(err))\n      .finally(()=>this.loaderProvider.dismissLoader(loader))\n    \n  }\n\n  //Get Stores Promotions API call\n  public getStorePromotions(storename) {\n    let loader = this.loaderProvider.presentLoadingCustom();\n    loader.present();\n    return this.httpClient.get(STTARTER_BASE_URL + PROMOTIONS + STORE_PROMOTIONS + storename + '&associatedmall.mallname=$eq:' + this.userdataProvider.selectedMall)\n    // .map((res:Response) => res)\n    // .do((res:Response) => res.json())\n    // .map((res: Response) => res.json())\n    .catch((err: Error) => Observable.throw(err))\n    .finally(()=>this.loaderProvider.dismissLoader(loader))\n  }\n\n\n  //returns all special promotions\n\n  public getAllSpecialPromotions() {\n    let loader = this.loaderProvider.presentLoadingCustom();\n    loader.present();\n    return this.httpClient.get(STTARTER_BASE_URL + ALL_SPECIAL_PROMOTIONS + '&associatedmall.mallname=$eq:' + this.userdataProvider.selectedMall)\n    // .map((res:Response) => res)\n    // .do((res:Response) => res.json())\n    // .map((res: Response) => res.json())\n    .catch((err: Error) => Observable.throw(err))\n    .finally(()=>this.loaderProvider.dismissLoader(loader))\n  }\n\n  //returns special promotions\n  public getSpecialPromotions(promoId) {\n    let loader = this.loaderProvider.presentLoadingCustom();\n    loader.present();\n    return this.httpClient.get(STTARTER_BASE_URL + SPECIAL_PROMOTIONS + promoId +'&associatedmall.mallname=$eq:' + this.userdataProvider.selectedMall)\n    // .map((res:Response) => res)\n    // .do((res:Response) => res.json())\n    // .map((res: Response) => res.json())\n    .catch((err: Error) => Observable.throw(err))\n    .finally(()=>this.loaderProvider.dismissLoader(loader))\n  }\n\n\n//returns store category list  \n  public getStoreCatagoryList() {\n\n    if (this.storeCategoryList != null) {\n      return Observable.of(this.storeCategoryList);\n    }\n    else {\n      let loader = this.loaderProvider.presentLoadingCustom();\n      loader.present();\n      return this.httpClient.get(STTARTER_BASE_URL + STORECATAGORIES + EN)\n              // .map((result:Response) => <StoresCategoryModel[]> result.json())\n              .do((result) => { this.storeCategoryList = result['data'] })\n              .map((result) => { return result['data'] })\n              .catch((err: Error) => Observable.throw(err))\n              .finally(()=>this.loaderProvider.dismissLoader(loader))\n      }\n  }\n\n  \n  public getStoreNews() {\n    let loader = this.loaderProvider.presentLoadingCustom();\n    loader.present();\n    return this.httpClient.get(STTARTER_BASE_URL + STORENEWS)\n        // .map((result:Response) => result)\n        // .do((result:Response) => result.json())\n        // .map((result: Response) => result.json())\n        .catch((err: Error) => Observable.throw(err))\n        .finally(()=>this.loaderProvider.dismissLoader(loader))\n  }\n\n  public getEventsDetails() {\n    let loader = this.loaderProvider.presentLoadingCustom();\n    loader.present();\n    return this.httpClient.get(STTARTER_BASE_URL + EVENTS)\n    // .map((result:Response) => result)\n    // .do((result:Response) => result.json())\n    // .map((result: Response) => result.json())\n    .catch((err: Error) => Observable.throw(err))\n    .finally(()=>this.loaderProvider.dismissLoader(loader))\n  }\n\n//returns stores near to the beacon  \n  public getBeaconStores(major, minor: any) {\n\n    let attachToMinor = '0';          //In some case minor is 3 digits.If so add 0 at the begining;\n    var minorModified;\n    if (minor.toString().length == 3){\n       minorModified = attachToMinor.concat(minor.toString());\n    }\n    else\n      minorModified = minor;\n    let url = `${STTARTER_BASE_URL}${BEACON_CONFIG}${EN}&uuid=$eq:${BEACON_UUID}&major=$eq:${major}&minor=$eq:${minorModified}&associatedmall=$eq:${this.userdataProvider.selectMallId}`;\n      return new Promise((resolve, reject) => {\n        if(this.beaconStoreList.length >= 1){\n          let store = this.beaconStoreList.find(beaconstore => beaconstore.major == major && beaconstore.minor == minorModified)\n          if(store){\n            resolve(store)\n          }else{\n          this.httpClient.get(url).subscribe(res => {\n          if(res['data'].length >= 1){\n          this.beaconStoreList.push(res['data'][0]);\n          resolve(res['data'][0]);\n          }else{\n            reject('null');\n          }\n        }, err => {\n          reject(err);\n        })\n      }\n\n        }else{\n          this.httpClient.get(url).subscribe(res => {\n           if(res['data'].length >= 1){\n          this.beaconStoreList.push(res['data'][0]);\n          resolve(res['data'][0]);\n          }\n        else{\n          reject('null');\n        }\n        }, err => {\n          reject(err);\n        })\n\n        }\n       })\n    \n  }\n\n//Returns a stores Promotions\n  public getAllPromotions(vipoffer: boolean) {\n    let loader = this.loaderProvider.presentLoadingCustom();\n    loader.present();\n    return this.httpClient.get(STTARTER_BASE_URL + PROMOTIONS + EN + '&associatedmall.mallname=$eq:' + this.userdataProvider.selectedMall + '&hasvipoffer=$eq:' + vipoffer)\n    // .map((result:Response) => result)\n    // .do((result:Response) => result.json())\n    // .map((result: Response) => result.json())\n    .catch((err: Error) => Observable.throw(err))\n    .finally(()=>this.loaderProvider.dismissLoader(loader))\n  }\n  // getting About the Outlet Details //\n  public getOutletDetails() {\n    let loader = this.loaderProvider.presentLoadingCustom();\n    loader.present();\n    return this.httpClient.get(STTARTER_BASE_URL + ABOUTOUTLET)\n    // .map((result:Response) => result)\n    // .do((result:Response) => result.json())\n    // .map((result: Response) => result.json())\n    .catch((err: Error) => Observable.throw(err))\n    .finally(()=>this.loaderProvider.dismissLoader(loader))\n  }\n\n\n  public getAmenites() {\n    \n    if (this.aminitiesList != null) {\n      return Observable.of(this.aminitiesList);\n    } else {\n      let loader = this.loaderProvider.presentLoadingCustom();\n      loader.present();\n      return this.httpClient.get(STTARTER_BASE_URL + AMENITES + EN + '&associatedmall.mallname=$eq:' + this.userdataProvider.selectedMall)\n        // .map((res: Response) => <Amenities[]>res.json())\n        .do((res) => this.aminitiesList = res['data'])\n        .map((res) => { return res['data'] })\n        .catch((err: Error) => Observable.throw(err))\n        .finally(()=>this.loaderProvider.dismissLoader(loader))\n    }\n  }\n\n\n  public getBrands(){\n    if (this.brandsList != null) {\n      return Observable.of(this.brandsList);\n    } else {\n      let loader = this.loaderProvider.presentLoadingCustom();\n      loader.present();\n      return this.httpClient.get(STTARTER_BASE_URL + BRANDS)\n      // .map((res: Response) => <Brands[]>res.json())\n      .do((res) => this.brandsList = res['data'])\n      .map((res) => { return res['data'] })\n      .catch((err: Error) => Observable.throw(err))\n      .finally(()=>this.loaderProvider.dismissLoader(loader))\n    }\n  }\n\n\n\n\n  \n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/stores/stores.ts","import moment from 'moment';\n\nexport class BeaconModel {\n\n  uuid: string;\n  major: number;\n  minor: number;\n  rssi: number;\n  tx: number;\n  accuracy: number;\n  proximity: string;\n  distance: any;\n  arrivalTime: any;\n\n  constructor(public beacon: any) {\n\n    this.uuid = beacon.uuid;\n    this.major = beacon.major;\n    this.minor = beacon.minor;\n    this.rssi = beacon.rssi;\n    this.tx = beacon.tx;\n    this.accuracy = beacon.accuracy;\n    this.proximity = beacon.proximity;\n    this.distance = this.getDistance(beacon)\n    this.arrivalTime = moment();\n\n  }\n\n  private getDistance(beacon) {\n    // console.log('Math pow below');\n    // console.log(Math.pow((beacon.rssi/-59),7.7095));\n    // console.log(\"rssi and tx\", beacon.rssi, beacon.tx);\n    // console.log(\"distance from beacon Modal below\");\n    // console.log((0.89976) *  Math.pow((beacon.rssi/-59),7.7095) + 0.111);\n    return ((0.89976) *  Math.pow((beacon.rssi/-59),7.7095) + 0.111);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/models/beaconModel.ts","import { Component, NgZone, ViewChild, ElementRef, } from '@angular/core';\nimport { IonicPage, NavController, Events, Platform,MenuController, } from 'ionic-angular';\nimport { StoresProvider } from '../../providers/stores/stores';\nimport { BeaconProvider } from '../../providers/beacon/beacon';\nimport { UserdataProvider } from '../../providers/userdata/userdata';\nimport moment from 'moment';\nimport { OpenNativeSettings } from '@ionic-native/open-native-settings';\nimport { GeofenceProvider } from '../../providers/geofence/geofence';\nimport { AnalyticsProvider } from '../../providers/analytics/analytics';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ExceptionHandlerProvider } from '../../providers/exception-handler/exception-handler';\n\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/do';\n\n\n//import Beacon Model\nimport { BeaconModel } from '../../models/beaconModel';\nimport { Observable } from 'rxjs/Observable';\n\n@IonicPage({\n  segment:'home'\n})\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n\n})\nexport class HomePage {\n  @ViewChild('circle') myCircle: ElementRef;\n  @ViewChild('bluetooth') bluetoothModal;\n\n  beaconsList: BeaconModel[] = [];\n  nearestBeaconList: BeaconModel[] = [];\n  displayBeaconList: BeaconModel[] = [];\n  beaconObserver$: any;\n  storeList: any = [];\n  malllogo: any;\n  auth_token: string;\n  mall: any;\n  homeBannerData: any = [{ bannerimage: 'assets/images/findStores.png', linktype: 'InAppLink', destination: '/storedirectory' }, { bannerimage: 'assets/images/findDeals.png', linktype: 'InAppLink', destination: '/deals' }, { bannerimage: 'assets/images/navigateCentermap.png',linktype: 'InAppLink', destination: '/maps' } ];\n\n\n  constructor(private navCtrl: NavController,\n              private storesProvider: StoresProvider,\n              private beaconProvider: BeaconProvider,\n              private userdataProvider: UserdataProvider,\n              private events: Events,\n              private zone: NgZone,\n              private platform: Platform,\n              private openSettings:OpenNativeSettings,\n              private geofenceProvider: GeofenceProvider,\n              private menuController: MenuController,\n              private analytics: AnalyticsProvider,\n              private translate: TranslateService,\n              private excepProvider:ExceptionHandlerProvider\n              \n) {\n\n\n    this.events.subscribe('changedOutlet', isOutLetChanged => {\n\n      this.beaconsList = [];\n      this.nearestBeaconList = [];\n      this.displayBeaconList = [];\n      this.storeList = [];\n\n    })\n    \n    this.onBackground();\n    this.onResume();\n\n    this.analytics.fa.logEvent('HomePage');\n  }\n\n  ionViewWillEnter() {\n    this.getHomeBanners();\n    if(this.platform.is('cordova')){\n    this.geofenceProvider.userPermissionForLocation().then(isReady => {\n      this.platform.ready().then(() => {\n       \n        this.geofenceProvider.getUserCurrentPosition().then(isNearToMall => {\n          this.checkBluetoothState();\n        })\n      \n      });  \n     \n    });\n\n    this.checkBluetoothState();\n  }\n    this.menuController.enable(true);\n    this.malllogo = this.userdataProvider.getSelectedMallLogo();\n    this.userdataProvider.getAuthToken().then(data => {\n      this.auth_token = data;\n      this.getMallData();\n      if (this.auth_token) {\n      }\n    })\n\n    \n  }\n\n// go to store details page\n  fullstore(store) {\n    this.navCtrl.push(\"StoreDetailsPage\", { storedata: store });\n  }\n\n\n\n  gotoPromotionBanner(slide) {\n    this.navCtrl.push(\"PromotionBannerPage\", { promotion: slide });\n  }\n\n\n//Initialize the Ibeacon\n  initialize() {\n    try {\n      let isInitialised = this.beaconProvider.initialise();\n      if (isInitialised) {\n\n        this.listenToBeaconEvents();\n      }\n    } catch (e) {\n\n    }\n  }\n\n\n  //Listen to the Ibeacon event by subscribing to didRangeBeaconsInRegion\n  listenToBeaconEvents() {\n    this.events.subscribe('didRangeBeaconsInRegion', (data) => {\n\n      // update the UI with the beacon list \n\n      this.zone.run(() => {\n        // let beaconEventList =  [...data.beacons]\n        this.beaconObserver$ = new Observable((observer) => {\n           observer.next(data.beacons);\n           observer.complete();\n         });\n        // let beaconEventList = data.beacons;\n        this.beaconObserver$\n         .subscribe(bea => {\n             bea.map(beacons => {\n            console.log(beacons, \"before mapping\");\n              if(beacons.rssi != 0){\n              // beacons.map(beacons => {\n            let beaconObject = new BeaconModel(beacons);\n      \n            // All Beacons List\n            // closest 3 Beacons List\n\n            // Found New beacon\n            // Add to the all beacons list\n            // Sort the all beacons list by distance and find top 3 and assign to nearest beacon list\n\n            let isBeaconExist = this.beaconProvider.checkBeaconList(this.beaconsList, beaconObject);\n            if (!isBeaconExist) {\n              this.addBeacon(this.beaconsList, beaconObject);\n            } else {\n              // remove the existing beacon object and add again - because distance would have changed\n              this.replaceBeacon(this.beaconsList, beaconObject);\n            }\n          }\n\n          });\n          \n        });\n\n        // Loop through all beacons and remove the ones > 8 seconds\n\n        let filterByArrivalTime = this.beaconsList.filter(beacon => {\n          return moment.duration(moment().diff(beacon.arrivalTime)).asSeconds() <= 8;\n        });\n\n        // Replace original list with the new filtered list\n        this.beaconsList = [...filterByArrivalTime];\n\n        // sort by arrival time and distance. That is new sorted array will be your nearest beacon\n        this.nearestBeaconList = this.beaconProvider.sortBeaconsByAccuracy(this.beaconsList);\n\n     //If nearest beacon and the displayBeacon are different then activate refresh button\n        if (this.beaconProvider.areDifferentByMinor(this.nearestBeaconList, this.displayBeaconList)) {\n\n              this.getDisplayBeaconList();\n        }\n\n        //If all array are empty, that means there is no ranging of beacons, \n        //Then  remove display beacon List and beaconStoresSlideList\n  \n\n        // if (!this.displayBeaconList.length && this.beaconsList.length > 0){\n\n        //     this.getDisplayBeaconList();\n        //     this.autoRefreshBeacons = setInterval(()=>{\n\n        //       this.getDisplayBeaconList();\n\n        //     },5000)\n        // }\n\n        if (this.displayBeaconList.length > 0 && this.nearestBeaconList.length == 0 && this.beaconsList.length == 0) {\n          this.displayBeaconList = [];\n  \n\n          // clearInterval(this.autoRefreshBeacons);\n        }\n\n      \n      \n\n    });\n  });\n\n  \n}\n\n\n\n\n\n\n\n  //beacons to display;\n  getDisplayBeaconList() {\n   \n    this.storeList = [];\n    this.displayBeaconList = [...this.nearestBeaconList];\n    if (this.displayBeaconList.length > 0) {\n      this.displayBeaconList.forEach(beacon => {\n        this.getBeaconStore(beacon.major, beacon.minor)\n      })\n    }  \n  }\n  \n\n\n    //add beacon to the list\n    addBeacon(beaconList: BeaconModel[],beacon: BeaconModel) {\n      beaconList.push(beacon);\n    }\n  \n  \n  \n  //replace the beacon if it is already exist\n    replaceBeacon(beaconList: BeaconModel[], beacon: BeaconModel) {\n      let len = beaconList.length;\n      for(let i = 0; i < len; i++) {\n          if(beaconList[i].minor === beacon.minor){\n            beaconList[i] = beacon;\n          }\n      }\n    }\n  \n\n\n\n\n \n\n  // Get the stores of connected beacon \n  //If store is not available yet (empty response), then remove the beacon from beacon list;\n  private getBeaconStore(major, minor) {\n    this.storesProvider.getBeaconStores(major, minor).then(storedata => {\n\n      if (storedata) {\n        this.storeList.push(storedata)\n      }\n    },err=>{\n    });\n\n  }\n\n  getMallData() {\n\n    this.userdataProvider.getSelectedMall().then(malldata => {\n\n      this.mall = JSON.parse(malldata);\n\n    })\n  }\n\n  openBluetoothModal() {\n    this.bluetoothModal.open();\n  }\n\n  openBluetoothSettings() {\n    this.bluetoothModal.close();\n    this.openSettings.open('bluetooth').then(() => {\n\n    }, err => {\n    })\n  }\n\n  closeBluetoothModal() {\n    this.bluetoothModal.close();\n  }\n\n  checkBluetoothState() {\n\n    this.beaconProvider.checkBluetoothState().then(data => {\n\n      if (data['initialize']) {\n        this.initialize();\n      }\n      if (!data['initialize'] && data['bluetoothModal']) {\n        this.openBluetoothModal();\n      }\n    })\n  }\n  \n  ionViewWillLeave() {\n\n    this.events.unsubscribe('didRangeBeaconsInRegion');\n    this.beaconProvider.stopRangingBeacons();\n    // clearInterval(this.autoRefreshBeacons);\n    // if(this.beaconObserver$)\n    // this.beaconObserver$.unsubscribe();\n  }\n\n  onBackground() {\n    this.platform.pause.subscribe(() => {\n      this.beaconProvider.stopRangingBeacons();\n      this.events.unsubscribe('didRangeBeaconsInRegion');\n      // if(this.beaconObserver$)\n      //   this.beaconObserver$.unsubscribe();\n      // clearInterval(this.autoRefreshBeacons);\n\n    })\n  }\n\n  onResume() {\n    this.platform.resume.subscribe(() => {\n      this.checkBluetoothState();\n    })\n  }\n\n  navTo(page) {\n    // console.log(bannerdata,\"banner dataaaaaa\")\n     this.navCtrl.setRoot(page);\n  }\n\n  ngOnDestroy(){\n    if(this.beaconObserver$ != undefined )\n    this.beaconObserver$.takeUntil(this.beaconObserver$);\n  }\n\n  getHomeBanners() {\n    this.storesProvider.getHomeBanners().subscribe(homebanners => {\n  \n      this.zone.runOutsideAngular(() => {\n\n        if (homebanners.data.length > 0) {\n           this.homeBannerData.length = 0;\n          setTimeout(() => {\n            this.homeBannerData = [...homebanners.data];\n          },100)\n          \n          } \n        \n      })\n   \n    }, err => {\n      this.excepProvider.excpHandler(err)\n      console.log(err);\n    })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts"],"sourceRoot":""}